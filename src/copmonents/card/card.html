<!-- <div class="card" style="width: 18rem">
  <img src="./product8.jpg" class="card-img-top" />
  <div class="card-body">
    <h5 class="card-title">Card title</h5>
    <h3>sss</h3>
    <p class="card-text">
      Some quick example text to build on the card title and make up the bulk of the card's content.
    </p>
    <a href="#" class="btn btn-primary">Go somewhere</a>
  </div>
</div> -->

<!-- <div class="row">
  <div class="col-md-4" *ngFor="let card of cards">
    <div class="card" style="width: 18rem">
      <img [src]="card.image" class="card-img-top" />
      <div class="card-body">
        <h2 class="card-title">{{ card.title }}</h2>
        <h6>{{ card.department }}</h6>
        <p class="card-text">{{ card.description }}</p>
        <a href="#" class="btn btn-primary">Go somewhere</a>
      </div>
    </div>
  </div>
</div> -->

<!-- //////////////////////////////////////////////////////////////////////////////////// -->
<!-- <div class="dropdown mb-3">
  <button
  class="btn btn-secondary dropdown-toggle"
  type="button"
  id="dropdownMenuButton"
  data-bs-toggle="dropdown"
  aria-expanded="false"
  >
  {{ selectedDepartment }}
</button>
<ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
  <li *ngFor="let dept of departments">
    <a class="dropdown-item" href="#" (click)="selectDepartment(dept)">
      {{ dept }}
    </a>
  </li>
</ul>
</div> -->
<!-- <div class="mb-3">
  <label class="form-label"><strong>Choose category:</strong></label>
  <select class="form-select" [(ngModel)]="selectedDepartment">
    <option *ngFor="let dept of departments" [value]="dept">{{ dept }}</option>
  </select>
</div>

<div class="row">
  <div class="col-md-4" *ngFor="let card of filteredCards">
    <div class="card" style="width: 18rem" appHoverCard>
      <img [src]="card.image" class="card-img-top" />
      <div class="card-body">
        <h5 class="card-title">{{ card.title }}</h5>
        <h3>{{ card.department }}</h3>
        <p class="card-text">{{ card.description }}</p>
        <a href="#" class="btn btn-primary">Add to cart</a>
      </div>
    </div>
  </div>
</div> -->

<!-- 
<div class="container d-flex justify-content-center">
  <figure class="card card-product-grid card-lg">
    <a href="#" class="img-wrap" data-abc="true"> <img src="https://i.imgur.com/MPqUt62.jpg" /> </a>
    <figcaption class="info-wrap">
      <div class="row">
        <div class="col-md-9 col-xs-9">
          <a href="#" class="title" data-abc="true">Dell Xtreme 270</a>
          <span class="rated">Laptops</span>
        </div>
        <div class="col-md-3 col-xs-3">
          <div class="rating text-right">
            <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i>
            <i class="fa fa-star"></i> <span class="rated">Rated 4.0/5</span>
          </div>
        </div>
      </div>
    </figcaption>
    <div class="bottom-wrap-payment">
      <figcaption class="info-wrap">
        <div class="row">
          <div class="col-md-9 col-xs-9">
            <a href="#" class="title" data-abc="true">$3,999</a>
            <span class="rated">VISA Platinum</span>
          </div>
          <div class="col-md-3 col-xs-3">
            <div class="rating text-right">#### 8787</div>
          </div>
        </div>
      </figcaption>
    </div>
    <div class="bottom-wrap">
      <a href="#" class="btn btn-primary float-right" data-abc="true"> Buy now </a>
      <div class="price-wrap">
        <a href="#" class="btn btn-warning float-left" data-abc="true"> Cancel </a>
      </div>
    </div>
  </figure>
</div> -->

<!-- ///////////////////// -->
<!-- <div class="bg-light p-5">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-4">
        <div class="product-card bg-white rounded-4 shadow-sm h-100 position-relative">
          <span class="badge bg-danger">New</span>
          <div class="overflow-hidden">
            <img
              src="https://images.unsplash.com/photo-1669937401489-fb1ebb31d762?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w0NzEyNjZ8MHwxfHNlYXJjaHwxNXx8aGVhZHBob25lfGVufDB8MHx8fDE3MzA1NTUzNjl8MA&ixlib=rb-4.0.3&q=80&w=1080"
              class="product-image w-100"
              alt="Product"
            />
          </div>
          <div class="p-4">
            <h5 class="fw-bold mb-3">{{ product?.name }}</h5>
            <div class="d-flex align-items-center mb-3">
              <div class="me-2">
                <i class="fas fa-star text-warning"></i>
                <i class="fas fa-star text-warning"></i>
                <i class="fas fa-star text-warning"></i>
                <i class="fas fa-star text-warning"></i>
                <i class="fas fa-star-half-alt text-warning"></i>
              </div>
              <small class="text-muted">{{ product?.rating }}</small>
            </div>
            <p class="text-muted mb-4">
              {{ product?.description }}
            </p>
            <div class="d-flex justify-content-between align-items-center">
              <span class="price">{{ product?.price }}</span>
              <button class="btn btn-custom text-white px-4 py-2 rounded-pill">Add to Cart</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
</div> -->

<div class="product-card bg-white rounded-4 shadow-sm h-100 position-relative" appHoverCard>
  <div class="product-image-container text-center p-3">
    <img [src]="product?.imageUrl" class="product-image" alt="{{ product?.name }}" />
  </div>

  <div class="p-3 d-flex flex-column justify-content-between h-100">
    <h5 class="fw-bold">{{ product?.name }}</h5>
    <p class="text-muted small flex-grow-1">{{ product?.description }}</p>

    <div
      class="d-flex align-items-center mb-2 rating-stars"
      style="color: #ffd43b"
      [innerHTML]="product?.rating ?? 0 | rating"
    ></div>

    <div class="d-flex flex-column gap-2">
      <div class="d-flex justify-content-between align-items-center">
        <ng-container *ngIf="!discountPrice; else showDiscount">
          <span class="price fw-bold">{{ product?.price | currency : 'EGP' }}</span>
        </ng-container>
        <ng-template #showDiscount>
          <div>
            <del class="text-muted me-2">{{ product?.price | currency : 'EGP' }}</del>
            <span class="discount-price fw-bold">{{ discountPrice | currency : 'EGP' }}</span>
          </div>
        </ng-template>
      </div>

      <div class="d-flex justify-content-between align-items-center">
        <button class="btn btn-custom btn-danger text-white px-3 py-2 rounded-pill">
          Add to Cart
        </button>
        <button class="btn btn-outline-warning btn-sm rounded-pill" (click)="applyDiscount()">
          {{ discountPrice ? 'Remove Voucher' : 'Apply Voucher' }}
        </button>
      </div>
    </div>
  </div>
</div>
